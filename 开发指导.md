# 目标

1. 保持页面登录的一段时间内的有效性。也就是远端页面登录成功后，在 30 分钟之后，刷新页面，不需要重复输入用户名和密码。
2. 30 分钟之内如果有页面操作，保持登录的有效性。如果 30 分钟之后完全无操作，则页面登录时效，页面自动刷新，并且需要用户重新输入用户名和密码进行登录

# 核心思路

1. 登录方法产生一个 token，这个 token 返回给前端后，前端在后续的所有请求中，都带上这个 token，服务端收到请求后，验证 token 的有效性，如果 token 有效，则返回数据，如果 token 无效，则返回错误信息。
2. 服务端需要在 websocket 的方法中验证这个 token，也需要在普通的 http 方法中验证这个 token。
3. 在普通的 http 方法中验证这个 token，可以采用 AOP 的方式进行，通过注解com.jfirer.jfire.core.aop.notated.Around，并且自定义cc.jfire.jfire.core.aop.notated.Around.custom属性，配置有标记Path 注解的方法需要拦截，然后在拦截方法中，检查 http header 中是否存在一个 token 的 header，并且值是否。
4. 在 TcpMessage 中增加 token 字段，传递从服务端获取到的 token。如果 token 时效了，则服务端返回无效的告警。前端收到后中断本次的 websocket 链接，并且刷新界面。注意，这个只会发生在远端的 webcli 中，本地 webcli 中没有这个要求。

